<Window x:Class="OmdbClient.Views.FavoritasWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Favoritas" Height="480" Width="850" WindowStartupLocation="CenterScreen">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Barra superior con botones y búsqueda -->
        <StackPanel Orientation="Horizontal" Grid.Row="0" Margin="0,0,0,10" HorizontalAlignment="Center">
            <Button Content="Agregar película" Click="Agregar_Click" Width="120" Margin="5"/>
            <Button Content="Listar favoritas" Click="Listar_Click" Width="120" Margin="5"/>
            <Button Content="Eliminar seleccionada" Click="Eliminar_Click" Width="150" Margin="5"/>
            <Button Content="Ver detalle" Click="VerDetalle_Click" Width="100" Margin="5"/>
            <Button Content="Modo oscuro" Click="ToggleTheme_Click" Width="100" Margin="5"/>

            <!-- Campo de búsqueda -->
            <TextBox x:Name="BuscarBox" Width="200" Margin="10,0,0,0" VerticalAlignment="Center"
                     ToolTip="Escribe título o ImdbID"/>
            <Button Content="Buscar" Click="Buscar_Click" Width="100" Margin="5"/>
        </StackPanel>

        <!-- Tabla de favoritas -->
        <DataGrid x:Name="FavoritasGrid"
                  Grid.Row="1"
                  AutoGenerateColumns="False"
                  SelectionMode="Single"
                  CanUserAddRows="False"
                  IsReadOnly="True"
                  RowHeight="110"
                  Margin="0,4,0,-4">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Título" Binding="{Binding Titulo}" Width="200"/>
                <DataGridTextColumn Header="Año" Binding="{Binding Year}" Width="80"/>
                <DataGridTemplateColumn Header="Póster" Width="120">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Border BorderBrush="Gray" BorderThickness="1" Padding="2">
                                <Image Source="{Binding Poster}"
                                       Height="100"
                                       Width="80"
                                       Stretch="UniformToFill"/>
                            </Border>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>

                <!-- Botón Editar por fila -->
                <DataGridTemplateColumn Header="Acciones" Width="150">
                    <DataGridTemplateColumn.CellTemplate>
                        <DataTemplate>
                            <Button Content="✏️ Editar"
                                    Width="120"
                                    Height="30"
                                    Margin="5"
                                    FontWeight="SemiBold"
                                    Background="#FF007ACC"
                                    Foreground="Black"
                                    BorderBrush="#FF005A9E"
                                    BorderThickness="1"
                                    Cursor="Hand"
                                    HorizontalAlignment="Center"
                                    Click="EditarFila_Click"/>
                        </DataTemplate>
                    </DataGridTemplateColumn.CellTemplate>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>
    </Grid>
</Window>